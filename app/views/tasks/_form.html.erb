<%= form_with(model: task, local: true, url: task.new_record? ? category_tasks_path(@category) : category_task_path(@category, task)) do |form| %>
  <%= form.label :title %>
  <%= form.text_field :title %>

  <%= form.label :description %>
  <%= form.text_area :description %>

  <%= form.label :due_date %>
  <%= form.date_field :due_date %>

  <%= form.submit %>

  <% if task.persisted? %>
    <%= link_to 'Delete Task', task_path(task), method: :delete, data: { confirm: 'Confirm Delete?' } %>
  <% end %>
<% end %>
